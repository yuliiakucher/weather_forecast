(this.webpackJsonpweather_forecast=this.webpackJsonpweather_forecast||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),i=(a(83),a(84),a(29)),o=a(10),u=a(8),s=a(15),m=a(48),d=a.n(m),p=function(e){var t=e.date,a=e.temp_min,n=e.temp_max,c=e.icon,l=e.details,i=e.units,m=new Date(1e3*t);return r.a.createElement(s.a.Body,{className:d.a.card_body},r.a.createElement(o.a,null,r.a.createElement(u.a,{lg:3},r.a.createElement(s.a.Img,{style:{maxWidth:"100px"},src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")})),r.a.createElement(u.a,null,r.a.createElement(s.a.Title,null,m.toDateString().split(" ")[0],",",m.toDateString().split(" ")[1]," ",m.toDateString().split(" ")[2]),r.a.createElement(s.a.Subtitle,null,l)),r.a.createElement(u.a,{className:d.a.right_badge,lg:3},r.a.createElement("div",null,Math.ceil(a),"metric"===i?"\xb0C":"F","/",Math.ceil(n),"metric"===i?"\xb0C":"F"))))},E=a(14),f=a(67),g=a(24),_=a(28),h=a.n(_),v=Object(E.b)((function(e){return{three_days_forecast:e.ForecastReducer.three_days_forecast,isLoading:e.ForecastReducer.isLoading,units:e.CurrentReducer.units}}))((function(e){return r.a.createElement(s.a,null,r.a.createElement(s.a.Header,{className:"d-flex flex-row justify-content-between"},r.a.createElement(s.a.Title,null,"3 Days Forecast"),r.a.createElement(g.b,{to:"/details",style:{textDecoration:"none",color:"#000"},className:h.a.link},"See more...")),r.a.createElement(s.a.Body,null,e.isLoading?r.a.createElement(f.a,{animation:"border",role:"status"}):e.three_days_forecast.map((function(t,a){return r.a.createElement(p,{units:e.units,key:a,date:t.dt,temp_min:t.temp.min,temp_max:t.temp.max,icon:t.weather[0].icon,details:t.weather[0].main})}))))})),y=a(36),b=a(37),w=a(43),O=a(40),S=a(116),F=a(117),j=a(114),R=a(34),C=a.n(R),I=a(41),N=a(7),k=a(68),x="a8de334d1f2f9e32c071bebca2a3e9ac",T=k.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metric";return T.get("weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(x,"&units=").concat(a))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"metric";return T.get("weather?q=".concat(e,"&appid=").concat(x,"&units=").concat(t))},A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metric";return T.get("onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,minutely,hourly,alerts&appid=").concat(x,"&units=").concat(a))},M={markers:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_WEATHER":return Object(N.a)(Object(N.a)({},e),{},{markers:[].concat(Object(I.a)(e.markers),[{icon:t.icon,temp:t.temp,latlng:t.latlng}])});default:return e}},W=a(13),G=a(69),U=a(20),H=a(26),B=function(e){Object(w.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={markers:[[49.823,23.959]]},e.addMarker=function(t){var a=e.state.markers;a.push(t.latlng),e.props.setMarker(t.latlng.lat,t.latlng.lng),e.setState({markers:a})},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,r.a.createElement(U.a,{icon:H.a})," Select the place on the map to see its current weather"),r.a.createElement(S.a,{center:[localStorage.getItem("lat"),localStorage.getItem("lon")],onClick:this.addMarker,zoom:13,className:C.a.leaflet_container},r.a.createElement(F.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),this.props.markers.map((function(t,a){return r.a.createElement(j.a,{key:a,position:t.latlng,icon:new W.divIcon({html:Object(G.renderToStaticMarkup)(r.a.createElement("div",{className:C.a.marker},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.icon,"@2x.png"),className:C.a.img,alt:"marker"}),r.a.createElement("p",{className:C.a.temp},t.temp," ","metric"===e.props.units?"\xb0C":"F")))})})}))))}}]),a}(r.a.Component),V=Object(E.b)((function(e){return{markers:e.MapReducer.markers,units:e.CurrentReducer.units}}),{setMarker:function(e,t,a){return function(n){D(e,t,a).then((function(a){var r,c;n((r=a.data.weather[0].icon,c=Math.ceil(a.data.main.temp),{type:"GET_CURRENT_WEATHER",icon:r,temp:c,latlng:{lat:e,lng:t}}))}))}}})(B),J=a(33),Y=a(75),z=a(70),X=a(53),q=a.n(X),K=function(e){var t=e.name,a=e.country,n=e.temp,c=e.icon,l=e.humidity,i=e.wind_dir,m=e.wind_speed,d=e.getFavPlace,p=e.units,E=e.clearFavs;return r.a.createElement(s.a,{className:"m-1"},r.a.createElement(o.a,{className:"m-1 d-flex flex-column align-items-end"},r.a.createElement(J.a,{variant:"outline-info",className:"w-25 btn-sm",onClick:function(){return function(e){var t=localStorage.getItem("fav_location");localStorage.setItem("fav_location",t.split(" ").filter((function(t){return t!==e})).join(" "));var a=localStorage.getItem("fav_location").split(" ");E(),a[0]&&a.map((function(e){return d(e,p)}))}(t)}},"X")),r.a.createElement(s.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(u.a,{className:q.a.icon,lg:3},r.a.createElement(z.a,{style:{maxWidth:"70px"},src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")})),r.a.createElement(u.a,null,r.a.createElement("h4",null,n,"\xb0C")),r.a.createElement(u.a,{className:q.a.name},r.a.createElement("div",null,t),r.a.createElement("div",null,a)))),r.a.createElement(s.a.Footer,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(U.a,{icon:H.b})," Humidity: ",l,"%")),r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(U.a,{icon:H.c})," ",m,"m/s ",i))))},Z=function(e){switch(!0){case e>22.5&&e<67.5:return"NE";case e>67.5&&e<112.5:return"E";case e>112.5&&e<157.5:return"SE";case e>157.5&&e<202.5:return"S";case e>202.5&&e<247.5:return"SW";case e>247.5&&e<292.5:return"W";case e>292.5&&e<337.5:return"NW";default:return"N"}},$={favs:[],favsStorage:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAV_PLACE_INFO":return Object(N.a)(Object(N.a)({},e),{},{favs:[].concat(Object(I.a)(e.favs),[{name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed}])});case"CLEAR_FAVS":return Object(N.a)(Object(N.a)({},e),{},{favs:[]});default:return e}},ee=a(115),te=a(71),ae=function(e){Object(w.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.handleSubmit=function(t){if(localStorage.getItem("fav_location")){var a=localStorage.getItem("fav_location").split(" ");0===a.filter((function(e){return e===t})).length&&(a.push(t),localStorage.setItem("fav_location",a.join(" ")),e.props.getFavPlace(t,e.props.units))}else localStorage.setItem("fav_location",t),e.props.getFavPlace(t,e.props.units);e.setState({input:""})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("fav_location")&&localStorage.getItem("fav_location").split(" ").map((function(t){return e.props.getFavPlace(t,e.props.units)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;localStorage.getItem("fav_location")&&e.units!==this.props.units&&(this.props.clearFavs(),localStorage.getItem("fav_location").split(" ").map((function(e){return n.props.getFavPlace(e,n.props.units)})))}},{key:"componentWillUnmount",value:function(){this.props.clearFavs()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement(U.a,{icon:te.a})," Your Locations"),r.a.createElement(i.a,{className:"m-2"},r.a.createElement(o.a,{className:"mx-2"},r.a.createElement(ee.a,null,r.a.createElement(o.a,{lg:10},r.a.createElement(ee.a.Toggle,{as:J.a,variant:"info",eventKey:"0"},"Add city")),r.a.createElement(o.a,{lg:10,className:"my-2"},r.a.createElement(ee.a.Collapse,{eventKey:"0"},r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(Y.a.Control,{onChange:function(t){return e.setState({input:t.target.value})},value:this.state.input})),r.a.createElement(u.a,null,r.a.createElement(J.a,{variant:"info",onClick:function(){return e.handleSubmit(e.state.input)}},"+")))))))),this.props.favs.map((function(t,a){return r.a.createElement(K,{units:e.props.units,key:a,name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed,getFavPlace:e.props.getFavPlace,clearFavs:e.props.clearFavs})})))}}]),a}(r.a.Component),ne=Object(E.b)((function(e){return{favs:e.FavReducer.favs,units:e.CurrentReducer.units}}),{getFavPlace:function(e,t){return function(a){L(e,t).then((function(e){var t,n,r,c,l,i,o;a((t=e.data.name,n=e.data.sys.country,r=Math.ceil(e.data.main.temp),c=e.data.weather[0].icon,l=e.data.main.humidity,i=Z(e.data.wind.deg),o=e.data.wind.speed,{type:"GET_FAV_PLACE_INFO",name:t,country:n,temp:r,icon:c,humidity:l,wind_dir:i,wind_speed:o}))}))}},clearFavs:function(){return function(e){e({type:"CLEAR_FAVS"})}}})(ae),re=function(){return r.a.createElement(i.a,{className:"m-4"},r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(v,null)),r.a.createElement(u.a,null,r.a.createElement(V,null)),r.a.createElement(u.a,{lg:3},r.a.createElement(ne,null))))},ce=a(9),le=a(77),ie="current/SET_PRELOADER",oe={city:null,country:null,temp:null,icon:null,details:"",isLoading:!0,units:"metric"},ue=function(e,t,a){return function(n){D(e,t,a).then((function(e){var t,a,r,c,l;n((t=e.data.name,a=e.data.sys.country,r=e.data.main.temp,c=e.data.weather[0].icon,l=e.data.weather[0].main,{type:"GET_INFO_FROM_COORDINATES",city:t,country:a,temp:r,icon:c,main:l}))}))}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INFO_FROM_COORDINATES":return Object(N.a)(Object(N.a)({},e),{},{city:t.city,country:t.country,temp:Math.ceil(t.temp),icon:t.icon,main:t.main});case"GET_WEATHER_DETAILS":return Object(N.a)(Object(N.a)({},e),{},{details:t.payload});case ie:return Object(N.a)(Object(N.a)({},e),{},{isLoading:t.value});case"SET_UNITS":return Object(N.a)(Object(N.a)({},e),{},{units:t.units});default:return e}},me=a(3),de=a.n(me),pe=Object(E.b)((function(e){return{city:e.CurrentReducer.city,country:e.CurrentReducer.country,temp:e.CurrentReducer.temp,icon:e.CurrentReducer.icon,main:e.CurrentReducer.main,units:e.CurrentReducer.units}}),{getInfoFromCoordinates:ue,getUnits:function(e){return function(t){t(function(e){return{type:"SET_UNITS",units:e}}(e))}}})((function(e){var t=e.city,a=e.country,c=e.temp,l=e.main,s=e.icon,m=e.getInfoFromCoordinates,d=e.getUnits,p=e.units,E=r.a.useState(!0),f=Object(le.a)(E,2),_=f[0],v=f[1];return Object(n.useEffect)((function(){m(localStorage.getItem("lat"),localStorage.getItem("lon"),p)}),[p]),r.a.createElement(i.a,{className:h.a.background},r.a.createElement(o.a,null,r.a.createElement(u.a,{lg:1,className:"d-flex flex-column justify-content-start ml-5"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/weather_forecast"},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(s,"@2x.png"),alt:"weather-icon"})))),r.a.createElement(u.a,{lg:1,className:"d-flex flex-column justify-content-center align-items-start"},r.a.createElement("h4",null,c," ","metric"===p?"\xb0C":"F"),r.a.createElement("h4",null,l)),r.a.createElement(u.a,{lg:2,className:"d-flex flex-column justify-content-center align-items-start"},r.a.createElement("h3",null,t,", ",a)),r.a.createElement(u.a,{lg:7,className:"d-flex flex-row justify-content-end align-items-end"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"mx-2 font-weight-bold"},"\xb0C"),r.a.createElement("label",{className:h.a.switch},r.a.createElement("input",{type:"checkbox",value:_,onChange:function(){v(!_),d(_?"imperial":"metric")}}),r.a.createElement("span",{className:de()(h.a.slider,h.a.round)})),r.a.createElement("span",{className:"mx-2 font-weight-bold"},"F")))))})),Ee={three_days_forecast:[],seven_days_forecast:[],isLoading:!0,isLoading7Days:!0},fe=function(e){return{type:"SET_PRELOADER_7DAYS",value:e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FORECAST_INFO":return Object(N.a)(Object(N.a)({},e),{},{three_days_forecast:t.payload});case"SET_PRELOADER":return Object(N.a)(Object(N.a)({},e),{},{isLoading:t.value});case"SET_PRELOADER_7DAYS":return Object(N.a)(Object(N.a)({},e),{},{isLoading7Days:t.value});case"GET_7DAYS_FORECAST":return Object(N.a)(Object(N.a)({},e),{},{seven_days_forecast:t.payload});default:return e}},_e=function(e){var t=e.details,a=e.seven_days_forecast,n=e.units,c=new Date(1e3*t.dt),l=c.toLocaleTimeString().slice(0,5),m=c.toLocaleDateString();return r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(s.a.Body,null,r.a.createElement("p",{style:{color:"#fc623e"}},l,", ",m),r.a.createElement(s.a.Title,null,r.a.createElement("h1",null,t.name,", ",t.sys.country)),r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"weather-icon"}),r.a.createElement("span",null,Math.ceil(t.main.temp)," ","metric"===n?"\xb0C":"F")),r.a.createElement("div",null,r.a.createElement("p",null,"Feels like ",Math.ceil(t.main.feels_like),"metric"===n?"\xb0C":"F",". ",t.weather[0].description[0].toUpperCase(),t.weather[0].description.slice(1))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(U.a,{icon:H.c}),t.wind.speed," ","metric"===n?"m/s":"mph"," ",Z(t.wind.deg)," Pressure:",t.main.pressure,"hPa Humidity: ",t.main.humidity,"%"),r.a.createElement("p",null,"Visibility: ",t.visibility/100," km"))))),r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(s.a.Body,null,r.a.createElement(s.a.Title,null,r.a.createElement("h2",null,"8-day forecast")),a.daily.map((function(e,t){var a=e.temp,c=a.min,l=a.max,i=e.weather[0],o=i.icon,u=i.main;return r.a.createElement(p,{units:n,key:t,temp_max:l,temp_min:c,icon:o,date:e.dt,details:u})})))))))},he=Object(E.b)((function(e){return{details:e.CurrentReducer.details,isLoading:e.CurrentReducer.isLoading,isLoadingForecast:e.ForecastReducer.isLoading7Days,seven_days_forecast:e.ForecastReducer.seven_days_forecast,units:e.CurrentReducer.units}}),{getWeatherDetails:function(e,t,a){return function(n){D(e,t,a).then((function(e){n({type:"GET_WEATHER_DETAILS",payload:e.data}),n({type:ie,value:!1})}))}},get7DaysForecast:function(e,t,a){return function(n){n(fe(!0)),A(e,t,a).then((function(e){n({type:"GET_7DAYS_FORECAST",payload:e.data}),n(fe(!1))}))}}})((function(e){var t=e.getWeatherDetails,a=e.details,c=e.isLoading,l=e.get7DaysForecast,i=e.seven_days_forecast,o=e.isLoadingForecast,u=e.units,s=localStorage.getItem("lat"),m=localStorage.getItem("lon");return Object(n.useEffect)((function(){t(s,m,u),l(s,m,u)}),[u]),r.a.createElement("div",{className:"d-flex flex-column align-items-center"},c||o?r.a.createElement(f.a,{animation:"border",variant:"info"}):r.a.createElement(_e,{details:a,seven_days_forecast:i,units:u}))})),ve=Object(E.b)((function(e){return{units:e.CurrentReducer.units}}),{getInfoFromCoordinates:ue,getForecastInfo:function(e,t,a){return function(n){A(e,t,a).then((function(e){n({type:"GET_FORECAST_INFO",payload:e.data.daily.slice(1,4)}),n({type:"SET_PRELOADER",value:!1})}))}}})((function(e){return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){localStorage.setItem("lat",e.coords.latitude),localStorage.setItem("lon",e.coords.longitude)}),(function(){localStorage.setItem("lat",51.5074),localStorage.setItem("lon",.1278)})),e.getForecastInfo(localStorage.getItem("lat"),localStorage.getItem("lon"),e.units)}),[e.units]),r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement(ce.a,{from:"/",to:"/weather_forecast"}),r.a.createElement(ce.b,{exact:!0,path:"/weather_forecast",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(ce.b,{path:"/details",render:function(){return r.a.createElement(he,null)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);var ye=a(27),be=a(74),we=Object(ye.c)({CurrentReducer:se,ForecastReducer:ge,FavReducer:Q,MapReducer:P}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,Se=Object(ye.e)(we,Oe(Object(ye.a)(be.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{store:Se},r.a.createElement(ve,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){e.exports={background:"Header_background__2Bu-x",switch:"Header_switch__1J-gm",slider:"Header_slider__3in5L",round:"Header_round__1JOks",link:"Header_link__6ZqJI"}},34:function(e,t,a){e.exports={leaflet_container:"WeatherMap_leaflet_container__MMeZe",img:"WeatherMap_img__twUzL",marker:"WeatherMap_marker__5IGLc",temp:"WeatherMap_temp__1m3fF"}},48:function(e,t,a){e.exports={right_badge:"OneDayForecast_right_badge__FhEbM",card_body:"OneDayForecast_card_body__3MXMc"}},53:function(e,t,a){e.exports={name:"FavCity_name__2d_Ez",icon:"FavCity_icon__3UNuD"}},78:function(e,t,a){e.exports=a(111)},83:function(e,t,a){},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.5692fdb6.chunk.js.map