(this.webpackJsonpweather_forecast=this.webpackJsonpweather_forecast||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(82),a(83),a(26)),i=a(10),s=a(8),u=a(15),m=a(48),d=a.n(m),g=function(e){var t=e.date,a=e.temp_min,n=e.temp_max,c=e.icon,l=e.details,o=new Date(1e3*t);return r.a.createElement(u.a.Body,{className:d.a.card_body},r.a.createElement(i.a,null,r.a.createElement(s.a,{lg:3},r.a.createElement(u.a.Img,{style:{maxWidth:"100px"},src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")})," "),r.a.createElement(s.a,null,r.a.createElement(u.a.Title,null,o.toDateString().split(" ")[0],",",o.toDateString().split(" ")[1],"  ",o.toDateString().split(" ")[2]),r.a.createElement(u.a.Subtitle,null,l)),r.a.createElement(s.a,{className:d.a.right_badge,lg:3},r.a.createElement("div",null,Math.ceil(a),"\xb0C/",Math.ceil(n),"\xb0C"))))},E=a(14),f=a(67),p=a(23),_=Object(E.b)((function(e){return{three_days_forecast:e.ForecastReducer.three_days_forecast,isLoading:e.ForecastReducer.isLoading}}))((function(e){return r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{className:"d-flex flex-row justify-content-between"},r.a.createElement(u.a.Title,null,"3 Days Forecast"),r.a.createElement(p.b,{to:"/details",style:{textDecoration:"none",color:"black"}},"See more...")),r.a.createElement(u.a.Body,null,e.isLoading?r.a.createElement(f.a,{animation:"border",role:"status"}):e.three_days_forecast.map((function(e,t){return r.a.createElement(g,{key:t,date:e.dt,temp_min:e.temp.min,temp_max:e.temp.max,icon:e.weather[0].icon,details:e.weather[0].main})}))))})),h=a(36),y=a(37),v=a(43),b=a(40),O=a(115),S=a(116),w=a(113),j=a(33),R=a.n(j),F=a(41),C=a(7),T=a(68),I="a8de334d1f2f9e32c071bebca2a3e9ac",N=T.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metric";return N.get("weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(I,"&units=").concat(a))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"metric";return N.get("weather?q=".concat(e,"&appid=").concat(I,"&units=").concat(t))},A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metric";return N.get("onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,minutely,hourly,alerts&appid=").concat(I,"&units=").concat(a))},D={markers:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_WEATHER":return Object(C.a)(Object(C.a)({},e),{},{markers:[].concat(Object(F.a)(e.markers),[{icon:t.icon,temp:t.temp,latlng:t.latlng}])});default:return e}},M=a(13),W=a(69),G=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={markers:[[49.823,23.959]]},e.addMarker=function(t){var a=e.state.markers;console.log(a),a.push(t.latlng),console.log(a),e.props.setMarker(t.latlng.lat,t.latlng.lng),e.setState({markers:a})},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{center:[localStorage.getItem("lat"),localStorage.getItem("lon")],onClick:this.addMarker,zoom:13,className:R.a.leaflet_container},r.a.createElement(S.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),this.props.markers.map((function(e,t){return r.a.createElement(w.a,{key:t,position:e.latlng,icon:new M.divIcon({html:Object(W.renderToStaticMarkup)(r.a.createElement("div",{className:R.a.marker},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),className:R.a.img,alt:"marker"}),r.a.createElement("p",{className:R.a.temp},e.temp,"\xb0C")))})})})))}}]),a}(r.a.Component),P=Object(E.b)((function(e){return{markers:e.MapReducer.markers}}),{setMarker:function(e,t){return function(a){x(e,t).then((function(n){var r,c;console.log(n),a((r=n.data.weather[0].icon,c=Math.ceil(n.data.main.temp),{type:"GET_CURRENT_WEATHER",icon:r,temp:c,latlng:{lat:e,lng:t}}))}))}}})(G),U=a(32),H=a(74),B=a(70),V=a(52),Y=a.n(V),z=a(29),J=a(30),X=function(e){var t=e.name,a=e.country,n=e.temp,c=e.icon,l=e.humidity,o=e.wind_dir,m=e.wind_speed,d=e.changeStorage;return r.a.createElement(u.a,{className:"m-1"},r.a.createElement(i.a,{className:"m-1 d-flex flex-column align-items-end"},r.a.createElement(U.a,{variant:"outline-info",className:"w-25 btn-sm",onClick:function(){return function(e){var t=localStorage.getItem("fav_location");localStorage.setItem("fav_location",t.split(" ").filter((function(t){return t!==e})).join(" ")),d(localStorage.getItem("fav_location"))}(t)}},"X")),r.a.createElement(u.a.Body,null,r.a.createElement(i.a,null,r.a.createElement(s.a,{className:Y.a.icon,lg:3},r.a.createElement(B.a,{style:{maxWidth:"70px"},src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")})),r.a.createElement(s.a,null,r.a.createElement("h4",null,n,"\xb0C")),r.a.createElement(s.a,{className:Y.a.name},r.a.createElement("div",null,t),r.a.createElement("div",null,a)))),r.a.createElement(u.a.Footer,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(z.a,{icon:J.a})," Humidity: ",l,"%")),r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(z.a,{icon:J.b})," ",m," meter/sec ",o))))},K=function(e){switch(!0){case e>22.5&&e<67.5:return"NE";case e>67.5&&e<112.5:return"E";case e>112.5&&e<157.5:return"SE";case e>157.5&&e<202.5:return"S";case e>202.5&&e<247.5:return"SW";case e>247.5&&e<292.5:return"W";case e>292.5&&e<337.5:return"NW";default:return"N"}},q={favs:[],favsStorage:""},Z=function(e){return{type:"GET_FAV_STORAGE",name_local:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAV_PLACE_INFO":return Object(C.a)(Object(C.a)({},e),{},{favs:[].concat(Object(F.a)(e.favs),[{name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed}])});case"GET_FAV_STORAGE":return Object(C.a)(Object(C.a)({},e),{},{favsStorage:t.name_local});case"CLEAR_FAVS":return Object(C.a)(Object(C.a)({},e),{},{favs:[]});default:return e}},Q=a(114),ee=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.handleSubmit=function(t){if(e.props.getFavPlace(t),localStorage.getItem("fav_location")){var a=localStorage.getItem("fav_location").split(" ");a.push(t),localStorage.setItem("fav_location",a.join(" ")),e.props.changeStorage(localStorage.getItem("fav_location"))}else localStorage.setItem("fav_location",t),e.props.changeStorage(localStorage.getItem("fav_location"))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("fav_location")&&localStorage.getItem("fav_location").split(" ").map((function(t){return e.props.getFavPlace(t,e.props.units)}))}},{key:"componentWillUnmount",value:function(){this.props.clearFavs()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Locations"),r.a.createElement(o.a,{className:"m-2"},r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(Q.a,null,r.a.createElement(i.a,{lg:10},r.a.createElement(Q.a.Toggle,{as:U.a,variant:"info",eventKey:"0"},"Add city")),r.a.createElement(i.a,{lg:10,className:"my-2"},r.a.createElement(Q.a.Collapse,{eventKey:"0"},r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(H.a.Control,{onChange:function(t){return e.setState({input:t.target.value})},value:this.state.input})),r.a.createElement(s.a,null,r.a.createElement(U.a,{variant:"info",onClick:function(){return e.handleSubmit(e.state.input)}},"+")))))))),this.props.favs.map((function(t){return r.a.createElement(X,{name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed,favsStorage:e.props.favsStorage,changeStorage:Z})})))}}]),a}(r.a.Component),te=Object(E.b)((function(e){return{favs:e.FavReducer.favs,favsStorage:e.FavReducer.favsStorage,units:e.CurrentReducer.units}}),{getFavPlace:function(e,t){return function(a){k(e,t).then((function(e){var t,n,r,c,l,o,i;console.log(e.data),a((t=e.data.name,n=e.data.sys.country,r=Math.ceil(e.data.main.temp),c=e.data.weather[0].icon,l=e.data.main.humidity,o=K(e.data.wind.deg),i=e.data.wind.speed,{type:"GET_FAV_PLACE_INFO",name:t,country:n,temp:r,icon:c,humidity:l,wind_dir:o,wind_speed:i}))}))}},changeStorage:Z,clearFavs:function(){return function(e){e({type:"CLEAR_FAVS"})}}})(ee),ae=function(){return r.a.createElement(o.a,{className:"m-4"},r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(_,null)),r.a.createElement(s.a,null,r.a.createElement(P,null)),r.a.createElement(s.a,{lg:3},r.a.createElement(te,null))))},ne=a(9),re=a(76),ce="current/SET_PRELOADER",le={city:null,country:null,temp:null,icon:null,details:"",isLoading:!0,units:"metric"},oe=function(e,t,a){return function(n){x(e,t,a).then((function(e){var t,a,r,c,l;console.log(e),n((t=e.data.name,a=e.data.sys.country,r=e.data.main.temp,c=e.data.weather[0].icon,l=e.data.weather[0].main,{type:"GET_INFO_FROM_COORDINATES",city:t,country:a,temp:r,icon:c,main:l}))}))}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INFO_FROM_COORDINATES":return Object(C.a)(Object(C.a)({},e),{},{city:t.city,country:t.country,temp:Math.ceil(t.temp),icon:t.icon,main:t.main});case"GET_WEATHER_DETAILS":return Object(C.a)(Object(C.a)({},e),{},{details:t.payload});case ce:return Object(C.a)(Object(C.a)({},e),{},{isLoading:t.value});case"SET_UNITS":return Object(C.a)(Object(C.a)({},e),{},{units:t.units});default:return e}},se=a(34),ue=a.n(se),me=a(3),de=a.n(me),ge=Object(E.b)((function(e){return{city:e.CurrentReducer.city,country:e.CurrentReducer.country,temp:e.CurrentReducer.temp,icon:e.CurrentReducer.icon,main:e.CurrentReducer.main,units:e.CurrentReducer.units}}),{getInfoFromCoordinates:oe,getUnits:function(e){return function(t){t(function(e){return{type:"SET_UNITS",units:e}}(e))}}})((function(e){var t=e.city,a=e.country,c=e.temp,l=e.main,u=e.icon,m=e.getInfoFromCoordinates,d=e.getUnits,g=e.units,E=r.a.useState(!0),f=Object(re.a)(E,2),_=f[0],h=f[1];return Object(n.useEffect)((function(){m(localStorage.getItem("lat"),localStorage.getItem("lon"),g)}),[g]),r.a.createElement(o.a,{className:ue.a.background},r.a.createElement(i.a,null,r.a.createElement(s.a,{lg:1,className:"d-flex flex-column justify-content-start ml-5"},r.a.createElement("div",null,r.a.createElement(p.b,{to:"/weather_forecast"},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(u,"@2x.png"),alt:"weather-icon"})))),r.a.createElement(s.a,{lg:1,className:"d-flex flex-column justify-content-center align-items-start"},r.a.createElement("h4",null,c,"\xb0C"),r.a.createElement("h4",null,l)),r.a.createElement(s.a,{lg:2,className:"d-flex flex-column justify-content-center align-items-start"},r.a.createElement("h3",null,t,", ",a)),r.a.createElement(s.a,{lg:7,className:"d-flex flex-row justify-content-end align-items-end"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"mx-2 font-weight-bold"},"\xb0C"),r.a.createElement("label",{className:ue.a.switch},r.a.createElement("input",{type:"checkbox",value:_,onChange:function(){h(!_),d(_?"imperial":"metric")}}),r.a.createElement("span",{className:de()(ue.a.slider,ue.a.round)})),r.a.createElement("span",{className:"mx-2 font-weight-bold"},"F")))))})),Ee={three_days_forecast:[],seven_days_forecast:[],isLoading:!0,isLoading7Days:!0},fe=function(e){return{type:"SET_PRELOADER_7DAYS",value:e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FORECAST_INFO":return Object(C.a)(Object(C.a)({},e),{},{three_days_forecast:t.payload});case"SET_PRELOADER":return Object(C.a)(Object(C.a)({},e),{},{isLoading:t.value});case"SET_PRELOADER_7DAYS":return Object(C.a)(Object(C.a)({},e),{},{isLoading7Days:t.value});case"GET_7DAYS_FORECAST":return Object(C.a)(Object(C.a)({},e),{},{seven_days_forecast:t.payload});default:return e}},_e=function(e){var t=e.details,a=e.seven_days_forecast,n=new Date(1e3*t.dt),c=n.toLocaleTimeString().slice(0,5),l=n.toLocaleDateString();return r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Body,null,r.a.createElement("p",{style:{color:"#fc623e"}},c,", ",l),r.a.createElement(u.a.Title,null,r.a.createElement("h1",null,t.name,", ",t.sys.country)),r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"weather-icon"}),r.a.createElement("span",null,Math.ceil(t.main.temp),"\xb0C")),r.a.createElement("div",null,r.a.createElement("p",null,"Feels like ",Math.ceil(t.main.feels_like),"\xb0C. ",t.weather[0].description[0].toUpperCase(),t.weather[0].description.slice(1))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(z.a,{icon:J.b}),t.wind.speed," m/s ",K(t.wind.deg)," Pressure:",t.main.pressure,"hPa Humidity: ",t.main.humidity,"%"),r.a.createElement("p",null,"Visibility: ",t.visibility/100," km"))))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Body,null,r.a.createElement(u.a.Title,null,r.a.createElement("h2",null,"8-day forecast")),a.daily.map((function(e,t){var a=e.temp,n=a.min,c=a.max,l=e.weather[0],o=l.icon,i=l.main;return r.a.createElement(g,{key:t,temp_max:c,temp_min:n,icon:o,date:e.dt,details:i})})))))))},he=Object(E.b)((function(e){return{details:e.CurrentReducer.details,isLoading:e.CurrentReducer.isLoading,isLoadingForecast:e.ForecastReducer.isLoading7Days,seven_days_forecast:e.ForecastReducer.seven_days_forecast,units:e.CurrentReducer.units}}),{getWeatherDetails:function(e,t,a){return function(n){x(e,t,a).then((function(e){console.log(e),n({type:"GET_WEATHER_DETAILS",payload:e.data}),n({type:ce,value:!1})}))}},get7DaysForecast:function(e,t,a){return function(n){n(fe(!0)),A(e,t,a).then((function(e){n({type:"GET_7DAYS_FORECAST",payload:e.data}),n(fe(!1))}))}}})((function(e){var t=e.getWeatherDetails,a=e.details,c=e.isLoading,l=e.get7DaysForecast,o=e.seven_days_forecast,i=e.isLoadingForecast,s=e.units,u=localStorage.getItem("lat"),m=localStorage.getItem("lon");return Object(n.useEffect)((function(){t(u,m,s),l(u,m,s)}),[s]),console.log(c,i),r.a.createElement("div",{className:"d-flex flex-column align-items-center"},c||i?r.a.createElement(f.a,{animation:"border",variant:"info"}):r.a.createElement(_e,{details:a,seven_days_forecast:o}))})),ye=Object(E.b)((function(e){return{units:e.CurrentReducer.units}}),{getInfoFromCoordinates:oe,getForecastInfo:function(e,t,a){return function(n){A(e,t,a).then((function(e){n({type:"GET_FORECAST_INFO",payload:e.data.daily.slice(1,4)}),n({type:"SET_PRELOADER",value:!1})}))}}})((function(e){return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){localStorage.setItem("lat",e.coords.latitude),localStorage.setItem("lon",e.coords.longitude)}),(function(){localStorage.setItem("lat",51.5074),localStorage.setItem("lon",.1278)})),e.getForecastInfo(localStorage.getItem("lat"),localStorage.getItem("lon"),e.units)}),[e.units]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null),r.a.createElement(ne.a,{from:"/",to:"/weather_forecast"}),r.a.createElement(ne.b,{exact:!0,path:"/weather_forecast",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(ne.b,{path:"/details",render:function(){return r.a.createElement(he,null)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(109);var ve=a(25),be=a(73),Oe=Object(ve.c)({CurrentReducer:ie,ForecastReducer:pe,FavReducer:$,MapReducer:L}),Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,we=Object(ve.e)(Oe,Se(Object(ve.a)(be.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{store:we},r.a.createElement(ye,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,a){e.exports={leaflet_container:"WeatherMap_leaflet_container__MMeZe",img:"WeatherMap_img__twUzL",marker:"WeatherMap_marker__5IGLc",temp:"WeatherMap_temp__1m3fF"}},34:function(e,t,a){e.exports={background:"Header_background__2Bu-x",switch:"Header_switch__1J-gm",slider:"Header_slider__3in5L",round:"Header_round__1JOks"}},48:function(e,t,a){e.exports={right_badge:"OneDayForecast_right_badge__FhEbM",card_body:"OneDayForecast_card_body__3MXMc"}},52:function(e,t,a){e.exports={name:"FavCity_name__2d_Ez",icon:"FavCity_icon__3UNuD"}},77:function(e,t,a){e.exports=a(110)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.04e1b8e0.chunk.js.map