(this.webpackJsonpweather_forecast=this.webpackJsonpweather_forecast||[]).push([[0],{35:function(e,t,a){e.exports={leaflet_container:"WeatherMap_leaflet_container__MMeZe",marker:"WeatherMap_marker__5IGLc",temp:"WeatherMap_temp__1m3fF"}},39:function(e,t,a){e.exports={right_badge:"OneDayForecast_right_badge__FhEbM",card_body:"OneDayForecast_card_body__3MXMc"}},41:function(e,t,a){e.exports={name:"FavCity_name__2d_Ez",icon:"FavCity_icon__3UNuD"}},59:function(e,t,a){e.exports={background:"HomePage_background__2eppM"}},62:function(e,t,a){e.exports=a(94)},67:function(e,t,a){},68:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),l=(a(67),a(68),a(23)),i=a(16),u=a(6),m=a(14),s=a(39),d=a.n(s),p=function(e){var t=e.date,a=e.temp_min,n=e.temp_max,c=e.icon,o=e.details,l=new Date(t);return r.a.createElement(m.a.Body,{className:d.a.card_body},r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a.Img,{src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png")})," "),r.a.createElement(u.a,null,r.a.createElement(m.a.Title,null,l.toDateString().split(" ")[0]),r.a.createElement(m.a.Subtitle,null,o)),r.a.createElement(u.a,{className:d.a.right_badge},r.a.createElement("div",null,a,"\xb0C/",n,"\xb0C"))))},f=a(13),g=a(55),_=Object(f.b)((function(e){return{three_days_forecast:e.ForecastReducer.three_days_forecast,isLoading:e.ForecastReducer.isLoading}}))((function(e){return r.a.createElement(m.a,null,r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Title,null,"3 Days Forecast")),r.a.createElement(m.a.Body,null,e.isLoading?r.a.createElement(g.a,{animation:"border",role:"status"}):e.three_days_forecast.map((function(e){return r.a.createElement(p,{key:e.temp_min,date:e.date,temp_min:e.temp_min,temp_max:e.temp_max,icon:e.icon,details:e.details})}))))})),E=a(9),h=a(56),v="a8de334d1f2f9e32c071bebca2a3e9ac",y=h.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),w=function(e,t){return y.get("weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(v,"&units=metric"))},b=function(e,t){return y.get("forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(v,"&units=metric"))},O=function(e){return y.get("weather?q=".concat(e,"&appid=").concat(v,"&units=metric"))},S={city:null,temp:null,icon:null},F=function(e,t){return function(a){w(e,t).then((function(e){var t,n,r,c;console.log(e),a((t=e.data.name,n=e.data.main.temp,r=e.data.weather[0].icon,c=e.data.weather[0].main,{type:"GET_INFO_FROM_COORDINATES",city:t,temp:n,icon:r,main:c}))}))}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INFO_FROM_COORDINATES":return Object(E.a)(Object(E.a)({},e),{},{city:t.city,temp:Math.ceil(t.temp),icon:t.icon,main:t.main});default:return e}},C=a(24),R={three_days_forecast:[],isLoading:!0},k=function(e,t,a,n,r){return{type:"GET_FORECAST_INFO",date:e,temp_min:t,temp_max:a,icon:n,details:r}},I=function(e,t){return function(a){b(e,t).then((function(e){var t=new Date,n=e.data.list.filter((function(e){return new Date(e.dt_txt).getDate()===t.getDate()+1}));n.sort((function(e,t){return e.main.temp-t.main.temp})),a(k(n[0].dt_txt,n[0].main.temp,n[7].main.temp,n[0].weather[0].icon,n[0].weather[0].main));var r=e.data.list.filter((function(e){return new Date(e.dt_txt).getDate()===t.getDate()+2}));r.sort((function(e,t){return e.main.temp-t.main.temp})),a(k(r[0].dt_txt,r[0].main.temp,r[7].main.temp,r[0].weather[0].icon,r[0].weather[0].main));var c=e.data.list.filter((function(e){return new Date(e.dt_txt).getDate()===t.getDate()+3}));c.sort((function(e,t){return e.main.temp-t.main.temp})),a(k(c[0].dt_txt,c[0].main.temp,c[7].main.temp,c[0].weather[0].icon,c[0].weather[0].main)),a({type:"SET_PRELOADER",value:!1})}))}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FORECAST_INFO":return Object(E.a)(Object(E.a)({},e),{},{three_days_forecast:[].concat(Object(C.a)(e.three_days_forecast),[{date:t.date,temp_min:Math.ceil(t.temp_min),temp_max:Math.ceil(t.temp_max),icon:t.icon,details:t.details}])});case"SET_PRELOADER":return Object(E.a)(Object(E.a)({},e),{},{isLoading:t.value});default:return e}},x=a(29),M=a(30),T=a(34),D=a(32),A=a(97),G=a(98),L=a(96),P=a(35),W=a.n(P),U={markers:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_WEATHER":return Object(E.a)(Object(E.a)({},e),{},{markers:[].concat(Object(C.a)(e.markers),[{icon:t.icon,temp:t.temp,latlng:t.latlng}])});default:return e}},H=a(12),V=a(57),X=function(e){Object(T.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={markers:[[49.823,23.959]]},e.addMarker=function(t){var a=e.state.markers;console.log(a),a.push(t.latlng),console.log(a),e.props.setMarker(t.latlng.lat,t.latlng.lng),e.setState({markers:a})},e}return Object(M.a)(a,[{key:"render",value:function(){return r.a.createElement(A.a,{center:[49.823,23.959],onClick:this.addMarker,zoom:13,className:W.a.leaflet_container},r.a.createElement(G.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),this.props.markers.map((function(e,t){return r.a.createElement(L.a,{key:t,position:e.latlng,icon:new H.divIcon({html:Object(V.renderToStaticMarkup)(r.a.createElement("div",{className:W.a.marker},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png")}),r.a.createElement("p",{className:W.a.temp},e.temp,"\xb0C")))})})})))}}]),a}(r.a.Component),z=Object(f.b)((function(e){return{markers:e.MapReducer.markers}}),{setMarker:function(e,t){return function(a){w(e,t).then((function(n){var r,c;console.log(n),a((r=n.data.weather[0].icon,c=Math.ceil(n.data.main.temp),{type:"GET_CURRENT_WEATHER",icon:r,temp:c,latlng:{lat:e,lng:t}}))}))}}})(X),J=a(26),q=a(61),Y=a(58),Z=a(41),$=a.n(Z),K=function(e){var t=e.name,a=e.country,c=e.temp,o=e.icon,l=e.humidity,s=e.wind_dir,d=e.wind_speed,p=e.favsStorage,f=e.changeStorage;Object(n.useEffect)((function(){console.log(p)}),[p]);return r.a.createElement(m.a,{className:"m-1"},r.a.createElement(i.a,{className:"m-1 d-flex flex-column align-items-end"},r.a.createElement(J.a,{variant:"outline-info",className:"w-25 btn-sm",onClick:function(){return function(e){var t=localStorage.getItem("fav_location");localStorage.setItem("fav_location",t.split(" ").filter((function(t){return t!==e})).join(" ")),f(localStorage.getItem("fav_location"))}(t)}},"X")),r.a.createElement(m.a.Body,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{className:$.a.icon},r.a.createElement(Y.a,{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png")})),r.a.createElement(u.a,null,r.a.createElement("h4",null,c,"\xb0C")),r.a.createElement(u.a,{className:$.a.name},r.a.createElement("p",null,t),r.a.createElement("p",null,a)))),r.a.createElement(m.a.Footer,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement("p",null," Humidity: ",l,"%")),r.a.createElement(u.a,null,"Wind direction: ",s),r.a.createElement(u.a,null,d," meter/sec"))))},Q={favs:[],favsStorage:""},ee=function(e){return{type:"GET_FAV_STORAGE",name_local:e}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAV_PLACE_INFO":return Object(E.a)(Object(E.a)({},e),{},{favs:[].concat(Object(C.a)(e.favs),[{name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed}])});case"GET_FAV_STORAGE":return Object(E.a)(Object(E.a)({},e),{},{favsStorage:t.name_local});default:return e}},ae=function(e){Object(T.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,input:""},e.handleSubmit=function(t){if(e.props.getFavPlace(t),localStorage.getItem("fav_location")){var a=localStorage.getItem("fav_location").split(" ");a.push(t),localStorage.setItem("fav_location",a.join(" ")),e.props.changeStorage(localStorage.getItem("fav_location"))}else localStorage.setItem("fav_location",t),e.props.changeStorage(localStorage.getItem("fav_location"));console.log(t)},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("fav_location")&&localStorage.getItem("fav_location").split(" ").map((function(t){return e.props.getFavPlace(t)}))}},{key:"componentDidUpdate",value:function(e,t,a){console.log(e,this.props.favsStorage)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Locations"),r.a.createElement(l.a,{className:"m-4"},r.a.createElement(i.a,null,r.a.createElement(u.a,{lg:5},r.a.createElement(J.a,{variant:"info",onClick:function(){return e.setState({show:!e.state.show})}},"Add city")),r.a.createElement(u.a,{lg:4},this.state.show&&r.a.createElement(q.a.Control,{onChange:function(t){return e.setState({input:t.target.value})},value:this.state.input})),r.a.createElement(u.a,null,this.state.show&&r.a.createElement(J.a,{variant:"info",onClick:function(){return e.handleSubmit(e.state.input)}},"+")))),this.props.favs.map((function(t){return r.a.createElement(K,{name:t.name,country:t.country,temp:t.temp,icon:t.icon,humidity:t.humidity,wind_dir:t.wind_dir,wind_speed:t.wind_speed,favsStorage:e.props.favsStorage,changeStorage:ee})})))}}]),a}(r.a.Component),ne=Object(f.b)((function(e){return{favs:e.FavReducer.favs,favsStorage:e.FavReducer.favsStorage}}),{getFavPlace:function(e){return function(t){O(e).then((function(e){var a,n,r,c,o,l,i;console.log(e.data),t((a=e.data.name,n=e.data.sys.country,r=Math.ceil(e.data.main.temp),c=e.data.weather[0].icon,o=e.data.main.humidity,l=function(e){switch(!0){case e>22.5&&e<67.5:return"NE";case e>67.5&&e<112.5:return"E";case e>112.5&&e<157.5:return"SE";case e>157.5&&e<202.5:return"S";case e>202.5&&e<247.5:return"SW";case e>247.5&&e<292.5:return"W";case e>292.5&&e<337.5:return"NW";default:return"N"}}(e.data.wind.deg),i=e.data.wind.speed,{type:"GET_FAV_PLACE_INFO",name:a,country:n,temp:r,icon:c,humidity:o,wind_dir:l,wind_speed:i}))}))}},changeStorage:ee})(ae),re=Object(f.b)((function(e){return{city:e.CurrentReducer.city,temp:e.CurrentReducer.temp,icon:e.CurrentReducer.icon,main:e.CurrentReducer.main}}),{getInfoFromCoordinates:F,getForecastInfo:I})((function(){return r.a.createElement(l.a,{className:"m-4"},r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(_,null)),r.a.createElement(u.a,null,r.a.createElement(z,null)),r.a.createElement(u.a,null,r.a.createElement(ne,null))))})),ce=a(7),oe=function(){return r.a.createElement("div",null,"details")},le=a(59),ie=a.n(le),ue=a(25),me=Object(f.b)((function(e){return{city:e.CurrentReducer.city,temp:e.CurrentReducer.temp,icon:e.CurrentReducer.icon,main:e.CurrentReducer.main}}),{getInfoFromCoordinates:F,getForecastInfo:I})((function(e){var t=e.city,a=e.temp,c=e.main,o=e.icon,m=e.getInfoFromCoordinates;return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){m(e.coords.latitude,e.coords.longitude)}))}),[]),r.a.createElement(l.a,{className:ie.a.background},r.a.createElement(i.a,null,r.a.createElement(u.a,{lg:1,className:"d-flex flex-column justify-content-start"},r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"weather-icon"}))),r.a.createElement(u.a,{lg:2,className:"d-flex flex-column justify-content-center align-items-start"},r.a.createElement("h3",null,t),r.a.createElement("h4",null,a,"\xb0C"),r.a.createElement("h4",null,c))),r.a.createElement(i.a,null,r.a.createElement(ue.b,{to:"/details"},"details...")))})),se=Object(f.b)(null,{getInfoFromCoordinates:F,getForecastInfo:I})((function(e){return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords.latitude,t.coords.longitude),e.getForecastInfo(t.coords.latitude,t.coords.longitude)}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(ce.a,{exact:!0,path:"/weather_forecast",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(ce.a,{path:"/details",render:function(){return r.a.createElement(oe,null)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93);var de=a(22),pe=a(60),fe=Object(de.c)({CurrentReducer:j,ForecastReducer:N,FavReducer:te,MapReducer:B}),ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,_e=Object(de.e)(fe,ge(Object(de.a)(pe.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue.a,null,r.a.createElement(f.a,{store:_e},r.a.createElement(se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.fa8036e2.chunk.js.map